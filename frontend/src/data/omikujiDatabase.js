// ãŠã¿ãã˜ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ - ä¼çµ±çš„ãªé‹å‹¢å ã„ã‚·ã‚¹ãƒ†ãƒ 

// ãƒ¬ã‚¢ãƒªãƒ†ã‚£è¨­å®š
export const OMIKUJI_RARITIES = {
  å¤§å‰: { rate: 0.01, color: '#FFD700', particles: 'gold', sound: 'legendary' },
  ä¸­å‰: { rate: 0.10, color: '#FF6B6B', particles: 'red', sound: 'epic' },
  å°å‰: { rate: 0.20, color: '#4ECDC4', particles: 'cyan', sound: 'rare' },
  å‰: { rate: 0.30, color: '#95E1D3', particles: 'green', sound: 'common' },
  æœ«å‰: { rate: 0.20, color: '#C7CEEA', particles: 'purple', sound: 'common' },
  å‡¶: { rate: 0.15, color: '#636E72', particles: 'gray', sound: 'bad' },
  å¤§å‡¶: { rate: 0.04, color: '#2D3436', particles: 'dark', sound: 'terrible' }
};

// é‹å‹¢ã‚«ãƒ†ã‚´ãƒªãƒ¼
export const FORTUNE_CATEGORIES = {
  å­¦æ¥­é‹: {
    icon: 'ğŸ“š',
    name: 'å­¦æ¥­é‹',
    description: 'å­¦å•ãƒ»è©¦é¨“ãƒ»è³‡æ ¼'
  },
  æ‹æ„›é‹: {
    icon: 'ğŸ’•',
    name: 'æ‹æ„›é‹',
    description: 'æ‹æ„›ãƒ»çµå©šãƒ»äººé–“é–¢ä¿‚'
  },
  é‡‘é‹: {
    icon: 'ğŸ’°',
    name: 'é‡‘é‹',
    description: 'é‡‘éŠ­ãƒ»å•†å£²ãƒ»æŠ•è³‡'
  },
  å¥åº·é‹: {
    icon: 'ğŸŒ¿',
    name: 'å¥åº·é‹',
    description: 'å¥åº·ãƒ»ç—…æ°—å¹³ç™’ãƒ»é•·å¯¿'
  },
  ä»•äº‹é‹: {
    icon: 'ğŸ’¼',
    name: 'ä»•äº‹é‹',
    description: 'ä»•äº‹ãƒ»æ˜‡é€²ãƒ»è»¢è·'
  }
};

// ä¼çµ±çš„ãªãŠã¿ãã˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
export const OMIKUJI_MESSAGES = {
  å¤§å‰: {
    base: [
      'ä¸‡äº‹å¤§å‰ãªã‚Šã€‚é¡˜ã„äº‹ã™ã¹ã¦å¶ã†æ™‚ãªã‚Šã€‚',
      'å¤©ã®æµã¿é™ã‚Šæ³¨ãã€‚åƒè¼‰ä¸€é‡ã®å¥½æ©Ÿãªã‚Šã€‚',
      'ç¥ä»ã®åŠ è­·ç¯¤ã—ã€‚å¤§ã„ãªã‚‹å¹¸é‹ã®è¨ªã‚Œã‚ã‚Šã€‚',
      'é‹æ°—æœ€é«˜æ½®ãªã‚Šã€‚æã‚Œãšå‰é€²ã™ã¹ã—ã€‚',
      'å‰æ˜Ÿç…§è‡¨ã™ã€‚ã™ã¹ã¦ã®é“é–‹ã‹ã‚Œã‚“ã€‚'
    ],
    å­¦æ¥­é‹: [
      'å­¦å•ã®ç¥ã®ã”åŠ è­·ã‚ã‚Šã€‚åˆæ ¼é–“é•ã„ãªã—ã€‚',
      'çŸ¥æµã®æ‰‰é–‹ã‹ã‚Œã‚“ã€‚ã™ã¹ã¦ã®è©¦é¨“ã«å‰ã‚ã‚Šã€‚',
      'æ–‡æ®Šã®çŸ¥æµæˆã‹ã‚Šã¦ã€å­¦æ¥­å¤§æˆå°±ãªã‚Šã€‚'
    ],
    æ‹æ„›é‹: [
      'è‰¯ç¸ã¾ã•ã«çµã°ã‚Œã‚“ã€‚é‹å‘½ã®å‡ºä¼šã„ã‚ã‚Šã€‚',
      'æ„›ã®èŠ±æº€é–‹ãªã‚Šã€‚æ°¸é ã®å¥‘ã‚Šçµã°ã‚Œã‚“ã€‚',
      'ç¸çµã³ã®ç¥ã®ç¥ç¦ã‚ã‚Šã€‚å¹¸ã›ãªæœªæ¥å¾…ã¤ã€‚'
    ],
    é‡‘é‹: [
      'è²¡é‹å¤©ã‚ˆã‚Šé™ã‚‹ã€‚æ€ã‚ã¬è‡¨æ™‚åå…¥ã‚ã‚Šã€‚',
      'é‡‘é‹çµ¶é ‚ãªã‚Šã€‚æŠ•è³‡ã™ã¹ã¦å‰ã¨å‡ºã‚‹ã€‚',
      'å•†å£²å¤§ç¹ç››ã€‚å¯Œè²´ã®é“é–‹ã‹ã‚Œã‚“ã€‚'
    ],
    å¥åº·é‹: [
      'ç„¡ç—…æ¯ç½ãªã‚Šã€‚ç™¾æ­³ã¾ã§å¥åº·ä¿ãŸã‚Œã‚“ã€‚',
      'ç—…é­”é€€æ•£ã€‚æ´»åŠ›ã¿ãªãã‚‹æ™‚ãªã‚Šã€‚',
      'å¿ƒèº«å…±ã«çµ¶å¥½èª¿ã€‚ä½•äº‹ã‚‚æˆã—é‚ã’ã‚‰ã‚Œã‚“ã€‚'
    ],
    ä»•äº‹é‹: [
      'å‡ºä¸–ã®é“é–‹ã‹ã‚Œã‚“ã€‚å¤§ã„ãªã‚‹æˆåŠŸã‚ã‚Šã€‚',
      'ä»•äº‹é‹æœ€é«˜æ½®ã€‚ã™ã¹ã¦ã®è¨ˆç”»ã†ã¾ãã„ãã€‚',
      'æ˜‡é€²ç¢ºå®Ÿãªã‚Šã€‚ãƒªãƒ¼ãƒ€ãƒ¼ã¨ã—ã¦è¼ãæ™‚ã€‚'
    ]
  },
  
  ä¸­å‰: {
    base: [
      'é‹æ°—ä¸Šæ˜‡ä¸­ãªã‚Šã€‚åŠªåŠ›å®Ÿã‚’çµã¶æ™‚ã€‚',
      'å‰äº‹å¤šã—ã€‚æ…é‡ã«é€²ã‚ã°å¤§æˆåŠŸã‚ã‚Šã€‚',
      'è‰¯ãæµã‚Œã‚ã‚Šã€‚ãƒãƒ£ãƒ³ã‚¹ã‚’é€ƒã™ã“ã¨ãªã‹ã‚Œã€‚',
      'ç¦é‹è¿‘ã¥ãã€‚æº–å‚™æ€ ã‚‹ã“ã¨ãªã‹ã‚Œã€‚',
      'å¹¸é‹ã®å…†ã—ã‚ã‚Šã€‚ç©æ¥µçš„ã«è¡Œå‹•ã™ã¹ã—ã€‚'
    ],
    å­¦æ¥­é‹: [
      'åŠªåŠ›å ±ã‚ã‚Œã‚‹æ™‚ã€‚åˆæ ¼ã®å¯èƒ½æ€§é«˜ã—ã€‚',
      'å­¦æ¥­é †èª¿ãªã‚Šã€‚æ²¹æ–­ã›ãšç²¾é€²ã™ã¹ã—ã€‚',
      'çŸ¥è­˜æ·±ã¾ã‚‹æ™‚æœŸã€‚è‰¯ãå¸«ã«å‡ºä¼šãˆã‚Šã€‚'
    ],
    æ‹æ„›é‹: [
      'æ‹ã®äºˆæ„Ÿã‚ã‚Šã€‚ç©æ¥µçš„ã«è¡Œå‹•ã™ã¹ã—ã€‚',
      'è‰¯ç¸è¿‘ã—ã€‚å¿ƒã‚’é–‹ã„ã¦å¾…ã¤ã¹ã—ã€‚',
      'æ„›æƒ…æ·±ã¾ã‚‹æ™‚ã€‚ç´ ç›´ãªæ°—æŒã¡å¤§åˆ‡ã«ã€‚'
    ],
    é‡‘é‹: [
      'é‡‘é‹ä¸Šæ˜‡ä¸­ã€‚å …å®Ÿãªè¡Œå‹•ã§åˆ©ç›Šã‚ã‚Šã€‚',
      'è‡¨æ™‚åå…¥ã®äºˆæ„Ÿã€‚ç„¡é§„é£ã„æ§ãˆã‚‹ã¹ã—ã€‚',
      'å•†å£²é †èª¿ãªã‚Šã€‚æ–°è¦é–‹æ‹“ã‚‚å‰ã€‚'
    ],
    å¥åº·é‹: [
      'å¥åº·é‹è‰¯å¥½ã€‚ä½“åŠ›å……å®Ÿã®æ™‚ãªã‚Šã€‚',
      'å›å¾©ã®å…†ã—ã‚ã‚Šã€‚é¤Šç”Ÿæ€ ã‚‰ãšã¹ã—ã€‚',
      'å¿ƒèº«ã®ãƒãƒ©ãƒ³ã‚¹è‰¯ã—ã€‚é‹å‹•å§‹ã‚ã‚‹ã«å‰ã€‚'
    ],
    ä»•äº‹é‹: [
      'ä»•äº‹é‹ä¸Šæ˜‡ã€‚æ–°ã—ã„æŒ‘æˆ¦ã«å‰ã‚ã‚Šã€‚',
      'è©•ä¾¡é«˜ã¾ã‚‹æ™‚ã€‚å®ŸåŠ›ç™ºæ®ã®ãƒãƒ£ãƒ³ã‚¹ã‚ã‚Šã€‚',
      'æ˜‡é€²ã®å¯èƒ½æ€§ã‚ã‚Šã€‚äººé–“é–¢ä¿‚å¤§åˆ‡ã«ã€‚'
    ]
  },
  
  å°å‰: {
    base: [
      'å°ã•ãªå¹¸ã›é›†ã¾ã‚Šã¦ã€å¤§ããªå–œã³ã¨ãªã‚‹ã€‚',
      'ç€å®Ÿãªé€²æ­©ã‚ã‚Šã€‚ç„¦ã‚‰ãšé€²ã‚€ã¹ã—ã€‚',
      'å‰äº‹ã‚ã‚Œã©å°ãªã‚Šã€‚æ„Ÿè¬ã®å¿ƒå¿˜ã‚Œãšã«ã€‚',
      'é‹æ°—å®‰å®šãªã‚Šã€‚ç¾çŠ¶ç¶­æŒã‚‚å¤§åˆ‡ãªã‚Šã€‚',
      'å°ã•ãªæˆåŠŸé‡ãªã‚‹ã€‚ã‚³ãƒ„ã‚³ãƒ„ã¨åŠªåŠ›ã™ã¹ã—ã€‚'
    ],
    å­¦æ¥­é‹: [
      'å­¦æ¥­ã¾ãšã¾ãšã€‚åŸºç¤å›ºã‚ã«è‰¯ãæ™‚æœŸã€‚',
      'ç†è§£æ·±ã¾ã‚‹æ™‚ã€‚å¾©ç¿’ã‚’å¤§åˆ‡ã«ã™ã¹ã—ã€‚',
      'å°ã•ãªé€²æ­©ã‚ã‚Šã€‚ç¶™ç¶šã¯åŠ›ãªã‚Šã€‚'
    ],
    æ‹æ„›é‹: [
      'æ‹æ„›é‹ç©ã‚„ã‹ã€‚å‹æƒ…ã‹ã‚‰æ„›æƒ…ã¸ç™ºå±•ã‚‚ã€‚',
      'ç›¸æ‰‹ã‚’æ€ã„ã‚„ã‚‹å¿ƒãŒå¹¸é‹ã‚’å‘¼ã¶ã€‚',
      'å°ã•ãªå¹¸ã›å¤§åˆ‡ã«ã€‚æ—¥å¸¸ã«æ„›ã‚ã‚Šã€‚'
    ],
    é‡‘é‹: [
      'é‡‘é‹æ™®é€šã€‚ç¯€ç´„ã«ã‚ˆã‚Šè²¯è“„å¢—ãˆã‚‹ã€‚',
      'åå…¥å®‰å®šã€‚è¨ˆç”»çš„ãªä½¿ã„æ–¹ãŒå‰ã€‚',
      'å°ã•ãªåˆ©ç›Šã‚ã‚Šã€‚ã‚³ãƒ„ã‚³ãƒ„è²¯ã‚ã‚‹ã¹ã—ã€‚'
    ],
    å¥åº·é‹: [
      'å¥åº·é‹æ™®é€šã€‚è¦å‰‡æ­£ã—ã„ç”Ÿæ´»ãŒå¤§åˆ‡ã€‚',
      'ä½“èª¿å®‰å®šã€‚ç„¡ç†ã¯ç¦ç‰©ãªã‚Šã€‚',
      'å°ã•ãªä¸èª¿ã«æ³¨æ„ã€‚æ—©ã‚ã®å¯¾å‡¦ãŒå‰ã€‚'
    ],
    ä»•äº‹é‹: [
      'ä»•äº‹é‹å¹³ç©ã€‚åœ°é“ãªåŠªåŠ›ãŒè©•ä¾¡ã•ã‚Œã‚‹ã€‚',
      'ç¾çŠ¶ç¶­æŒãŒå‰ã€‚ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã®å¥½æ©Ÿã€‚',
      'å°ã•ãªæˆæœã‚ã‚Šã€‚ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å¤§åˆ‡ã«ã€‚'
    ]
  },
  
  å‰: {
    base: [
      'å¹³ç©ç„¡äº‹ãªã‚Šã€‚æ—¥ã€…ã®å¹¸ã›ã«æ„Ÿè¬ã™ã¹ã—ã€‚',
      'é‹æ°—æ™®é€šãªã‚Šã€‚åŠªåŠ›æ¬¡ç¬¬ã§å‘ä¸Šã‚ã‚Šã€‚',
      'ç¾çŠ¶ã«æº€è¶³ã™ã¹ã—ã€‚æ¬²å¼µã‚‰ãšã«é€²ã‚€ã¹ã—ã€‚',
      'å®‰å®šã®æ™‚æœŸã€‚åŸºç¤ã‚’å›ºã‚ã‚‹ã«è‰¯ã—ã€‚',
      'å‰å‡¶ç›¸åŠã°ã€‚æ…é‡ãªåˆ¤æ–­å¿…è¦ãªã‚Šã€‚'
    ],
    å­¦æ¥­é‹: [
      'å­¦æ¥­å¹³å¸¸ã€‚ç¶™ç¶šçš„ãªåŠªåŠ›ãŒå¿…è¦ã€‚',
      'ç†è§£ã«æ™‚é–“ã‹ã‹ã‚‹ã‚‚ã€è«¦ã‚ãšã«é€²ã‚€ã¹ã—ã€‚',
      'åŸºç¤å­¦ç¿’ã«é©ã™ã€‚ç„¦ã‚‰ãšç€å®Ÿã«ã€‚'
    ],
    æ‹æ„›é‹: [
      'æ‹æ„›é‹æ™®é€šã€‚ç¾çŠ¶ç¶­æŒãŒæœ€å–„ãªã‚Šã€‚',
      'ç›¸æ‰‹ã¨ã®å¯¾è©±å¤§åˆ‡ã«ã€‚ç†è§£æ·±ã¾ã‚‹æ™‚ã€‚',
      'æ€¥ãŒãšç„¦ã‚‰ãšã€‚è‡ªç„¶ãªæµã‚Œã«ä»»ã›ã‚‹ã¹ã—ã€‚'
    ],
    é‡‘é‹: [
      'é‡‘é‹å¹³å¸¸ã€‚åæ”¯ã®ãƒãƒ©ãƒ³ã‚¹å¤§åˆ‡ã«ã€‚',
      'å¤§ããªå‡ºè²»æ§ãˆã‚‹ã¹ã—ã€‚è²¯è“„ã«åŠ±ã‚€ã¹ã—ã€‚',
      'å …å®Ÿãªé‡‘éŠ­ç®¡ç†ã§å®‰å®šã‚’ä¿ã¤ã¹ã—ã€‚'
    ],
    å¥åº·é‹: [
      'å¥åº·é‹æ™®é€šã€‚äºˆé˜²ã«åŠªã‚ã‚‹ã¹ã—ã€‚',
      'ç–²åŠ´æºœã‚ãšã«ã€‚é©åº¦ãªä¼‘æ¯å¿…è¦ã€‚',
      'ç”Ÿæ´»ç¿’æ…£ã®è¦‹ç›´ã—æ™‚æœŸã€‚æ”¹å–„ã®å¥½æ©Ÿã€‚'
    ],
    ä»•äº‹é‹: [
      'ä»•äº‹é‹å¹³å¸¸ã€‚ç¾åœ¨ã®è·å‹™ã«å°‚å¿µã™ã¹ã—ã€‚',
      'å¤§ããªå¤‰åŒ–ã¯é¿ã‘ã‚‹ã¹ã—ã€‚ã‚¹ã‚­ãƒ«ç£¨ãã¹ã—ã€‚',
      'å‘¨å›²ã¨ã®å”èª¿å¤§åˆ‡ã€‚ãƒãƒ¼ãƒ åŠ›ã§ä¹—ã‚Šåˆ‡ã‚‹ã€‚'
    ]
  },
  
  æœ«å‰: {
    base: [
      'ä»Šã¯è€ãˆã‚‹æ™‚ã€‚ã‚„ãŒã¦é‹æ°—ä¸Šå‘ãã€‚',
      'å°ã•ãªå›°é›£ã‚ã‚Œã©ã€ä¹—ã‚Šè¶Šãˆã‚‰ã‚Œã‚‹ã€‚',
      'è¾›æŠ±å¼·ãå¾…ã¦ã°ã€å‰äº‹è¨ªã‚Œã‚“ã€‚',
      'è©¦ç·´ã®æ™‚ãªã‚Œã©ã€æˆé•·ã®æ©Ÿä¼šãªã‚Šã€‚',
      'é‹æ°—ä½èª¿ãªã‚Œã©ã€å¸Œæœ›ã‚’å¤±ã†ãªã‹ã‚Œã€‚'
    ],
    å­¦æ¥­é‹: [
      'å­¦æ¥­ã‚„ã‚„å›°é›£ã€‚åŸºç¤ã‹ã‚‰è¦‹ç›´ã™ã¹ã—ã€‚',
      'ç†è§£ã«è‹¦ã—ã‚€ã‚‚ã€è«¦ã‚ãšã«ç¶šã‘ã‚‹ã¹ã—ã€‚',
      'è‹¦æ‰‹ç§‘ç›®ã«å‘ãåˆã†æ™‚ã€‚å…‹æœã®å¥½æ©Ÿã€‚'
    ],
    æ‹æ„›é‹: [
      'æ‹æ„›é‹ä½èª¿ã€‚è‡ªåˆ†ç£¨ãã«å°‚å¿µã™ã¹ã—ã€‚',
      'ç›¸æ‰‹ã¨ã®è·é›¢æ„Ÿå¤§åˆ‡ã«ã€‚ç„¦ã‚Šã¯ç¦ç‰©ã€‚',
      'ä»Šã¯æº–å‚™ã®æ™‚ã€‚è‰¯ç¸ã¯å¿…ãšè¨ªã‚Œã‚‹ã€‚'
    ],
    é‡‘é‹: [
      'é‡‘é‹ã‚„ã‚„æ‚ªã—ã€‚å€¹ç´„ã«åŠªã‚ã‚‹ã¹ã—ã€‚',
      'å‡ºè²»ã‹ã•ã‚€æ™‚æœŸã€‚è¨ˆç”»çš„ãªæ”¯å‡ºå¿…è¦ã€‚',
      'æŠ•è³‡ã¯æ§ãˆã‚‹ã¹ã—ã€‚å®ˆã‚Šã®å§¿å‹¢å¤§åˆ‡ã€‚'
    ],
    å¥åº·é‹: [
      'å¥åº·æ³¨æ„ã€‚ç„¡ç†ã¯ç¦ç‰©ãªã‚Šã€‚',
      'ç–²åŠ´è“„ç©ã®æã‚Œã€‚ååˆ†ãªä¼‘æ¯å¿…è¦ã€‚',
      'ä½“èª¿ç®¡ç†å¾¹åº•ã™ã¹ã—ã€‚äºˆé˜²ãŒæœ€å–„ã€‚'
    ],
    ä»•äº‹é‹: [
      'ä»•äº‹é‹ã‚„ã‚„ä½èª¿ã€‚ç¾çŠ¶ç¶­æŒã«åŠªã‚ã‚‹ã€‚',
      'å›°é›£ã‚ã‚Œã©ã€çµŒé¨“ã¨ã—ã¦æ´»ã‹ã™ã¹ã—ã€‚',
      'æ‰¹åˆ¤ã«è€ãˆã‚‹æ™‚ã€‚è‡ªå·±ç ”é‘½ã«åŠ±ã‚€ã¹ã—ã€‚'
    ]
  },
  
  å‡¶: {
    base: [
      'é‹æ°—ä½è¿·ãªã‚Šã€‚æ…é‡ã«è¡Œå‹•ã™ã¹ã—ã€‚',
      'å›°é›£å¤šãæ™‚æœŸã€‚å¿è€å¼·ãä¹—ã‚Šåˆ‡ã‚‹ã¹ã—ã€‚',
      'è©¦ç·´ã®æ™‚ãªã‚Šã€‚ã“ã‚Œã‚‚ä¿®è¡Œã¨æ€ã†ã¹ã—ã€‚',
      'å‡¶äº‹ã‚ã‚Œã©ã€å¿ƒæŒã¡æ¬¡ç¬¬ã§è»¢æ©Ÿã¨ãªã‚‹ã€‚',
      'ä»Šã¯å®ˆã‚Šã®æ™‚ã€‚æ–°ã—ã„ã“ã¨ã¯æ§ãˆã‚‹ã¹ã—ã€‚'
    ],
    å­¦æ¥­é‹: [
      'å­¦æ¥­å›°é›£å¤šã—ã€‚åŸºç¤ã®è¦‹ç›´ã—å¿…è¦ã€‚',
      'æˆç¸¾ä½è¿·ã®æã‚Œã€‚åŠªåŠ›å€å¢—ã™ã¹ã—ã€‚',
      'é›†ä¸­åŠ›æ¬ å¦‚ã«æ³¨æ„ã€‚ç’°å¢ƒæ•´ãˆã‚‹ã¹ã—ã€‚'
    ],
    æ‹æ„›é‹: [
      'æ‹æ„›é‹å‡¶ã€‚ãƒˆãƒ©ãƒ–ãƒ«æ³¨æ„ã™ã¹ã—ã€‚',
      'èª¤è§£ç”Ÿã˜ã‚„ã™ãæ™‚ã€‚è¨€è‘‰æ…ã‚€ã¹ã—ã€‚',
      'ä»Šã¯æ‹æ„›ã‚ˆã‚Šè‡ªå·±æˆé•·ã«å°‚å¿µã™ã¹ã—ã€‚'
    ],
    é‡‘é‹: [
      'é‡‘é‹å‡¶ã€‚å¤§ããªæå¤±ã®æã‚Œã‚ã‚Šã€‚',
      'è©æ¬ºã«æ³¨æ„ã€‚ã†ã¾ã„è©±ã«ä¹—ã‚‹ãªã‹ã‚Œã€‚',
      'å€Ÿé‡‘ã¯çµ¶å¯¾ã«é¿ã‘ã‚‹ã¹ã—ã€‚å€¹ç´„ç¬¬ä¸€ã€‚'
    ],
    å¥åº·é‹: [
      'å¥åº·é‹å‡¶ã€‚ç—…æ°—ãƒ»æ€ªæˆ‘ã«è¦æ³¨æ„ã€‚',
      'ç„¡ç†ã¯å¤§ç—…ã®å…ƒã€‚ä¼‘æ¯æœ€å„ªå…ˆã™ã¹ã—ã€‚',
      'å®šæœŸå¥è¨ºå—ã‘ã‚‹ã¹ã—ã€‚æ—©æœŸç™ºè¦‹å¤§åˆ‡ã€‚'
    ],
    ä»•äº‹é‹: [
      'ä»•äº‹é‹å‡¶ã€‚ãƒˆãƒ©ãƒ–ãƒ«å¤šç™ºã®æã‚Œã€‚',
      'äººé–“é–¢ä¿‚ã«äº€è£‚ã€‚è¨€å‹•æ…ã‚€ã¹ã—ã€‚',
      'è»¢è·ã¯é¿ã‘ã‚‹ã¹ã—ã€‚ç¾è·ã§è€ãˆã‚‹æ™‚ã€‚'
    ]
  },
  
  å¤§å‡¶: {
    base: [
      'å¤§ã„ãªã‚‹è©¦ç·´ã®æ™‚ã€‚å¿ƒã‚’å¼·ãæŒã¤ã¹ã—ã€‚',
      'å‡¶äº‹é‡ãªã‚Œã©ã€å¿…ãšå¤œæ˜ã‘ã¯æ¥ã‚‹ã€‚',
      'æœ€æ‚ªã®æ™‚æœŸãªã‚Œã©ã€ã“ã“ãŒåº•ãªã‚Šã€‚',
      'ç¥ä»ã«ç¥ˆã‚Šã€å„é™¤ã‘ã«åŠªã‚ã‚‹ã¹ã—ã€‚',
      'ä»Šã¯ä½•ã‚‚ã›ãšã€åµãŒéãã‚‹ã‚’å¾…ã¤ã¹ã—ã€‚'
    ],
    å­¦æ¥­é‹: [
      'å­¦æ¥­å¤§å‡¶ã€‚ä¸€ã‹ã‚‰å‡ºç›´ã™è¦šæ‚Ÿå¿…è¦ã€‚',
      'è©¦é¨“ã¯å»¶æœŸã™ã¹ã—ã€‚æº–å‚™ä¸è¶³æ˜ã‚‰ã‹ã€‚',
      'ä»Šã¯å­¦ã¶ã‚ˆã‚Šã€å¿ƒèº«ã®å›å¾©å„ªå…ˆã™ã¹ã—ã€‚'
    ],
    æ‹æ„›é‹: [
      'æ‹æ„›å¤§å‡¶ã€‚åˆ¥é›¢ã®å±æ©Ÿã‚ã‚Šã€‚',
      'æ–°ã—ã„å‡ºä¼šã„ã¯é¿ã‘ã‚‹ã¹ã—ã€‚ç½ã„æ‹›ãã€‚',
      'ä»Šã¯ä¸€äººã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã™ã¹ã—ã€‚'
    ],
    é‡‘é‹: [
      'é‡‘é‹æœ€æ‚ªã€‚ç ´ç”£ã®å±æ©Ÿã«æ³¨æ„ã€‚',
      'æŠ•è³‡ãƒ»è³­ã‘äº‹ã¯çµ¶å¯¾ç¦æ­¢ã€‚å¤§æç¢ºå®Ÿã€‚',
      'æœ€å°é™ã®æ”¯å‡ºã«ç•™ã‚ã€å®ˆã‚Šã«å¾¹ã™ã¹ã—ã€‚'
    ],
    å¥åº·é‹: [
      'å¥åº·å¤§å‡¶ã€‚é‡ç—…ã®æã‚Œã‚ã‚Šã€‚',
      'å³åº§ã«å¥åº·è¨ºæ–­å—ã‘ã‚‹ã¹ã—ã€‚æ‰‹é…ã‚Œã«ãªã‚‹å‰ã«ã€‚',
      'å¿ƒèº«å…±ã«é™ç•Œã€‚å®Œå…¨ä¼‘é¤Šå¿…è¦ãªã‚Šã€‚'
    ],
    ä»•äº‹é‹: [
      'ä»•äº‹é‹æœ€æ‚ªã€‚å¤±è·ã®å±æ©Ÿã‚ã‚Šã€‚',
      'é‡å¤§ãƒŸã‚¹ã«æ³¨æ„ã€‚å–ã‚Šè¿”ã—ã¤ã‹ã¬äº‹æ…‹ã‚‚ã€‚',
      'ä»Šã¯ç›®ç«‹ãŸãšã€åµãŒéãã‚‹ã‚’å¾…ã¤ã¹ã—ã€‚'
    ]
  }
};

// å­£ç¯€ã®ç‰¹åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
export const SEASONAL_MESSAGES = {
  æ–°å¹´: {
    period: { start: '01-01', end: '01-15' },
    messages: {
      å¤§å‰: 'æ–°æ˜¥å¤§å‰ã€‚ä»Šå¹´ä¸€å¹´ã€å¹¸å¤šã‹ã‚Œã¨ç¥ˆã‚‹ã€‚',
      ä¸­å‰: 'è‰¯ãå¹´ã®å§‹ã¾ã‚Šã€‚å¸Œæœ›ã«æº€ã¡ãŸä¸€å¹´ã¨ãªã‚‹ã€‚',
      å°å‰: 'ç©ã‚„ã‹ãªå¹´æ˜ã‘ã€‚ç€å®Ÿãªä¸€å¹´ã¨ãªã‚‹ã€‚',
      å‰: 'å¹³ç©ãªæ­£æœˆã€‚ç„¡äº‹æ˜¯åé¦¬ãªã‚Šã€‚',
      æœ«å‰: 'ä»Šã¯é™ã‹ãªå§‹ã¾ã‚Šã€‚ã‚„ãŒã¦èŠ±é–‹ãã€‚',
      å‡¶: 'å¹´åˆã‚ã‚ˆã‚Šè©¦ç·´ã‚ã‚Šã€‚å„æ‰•ã„å¿…è¦ã€‚',
      å¤§å‡¶: 'å„å¹´ã®å§‹ã¾ã‚Šã€‚ç¥ä»ã®åŠ è­·ã‚’æ±‚ã‚ã‚‹ã¹ã—ã€‚'
    }
  },
  
  ç¯€åˆ†: {
    period: { start: '02-01', end: '02-04' },
    messages: {
      å¤§å‰: 'ç¦ã¯å†…ã€é¬¼ã¯å¤–ã€‚å¤§ã„ãªã‚‹ç¦æ¥ãŸã‚‹ã€‚',
      ä¸­å‰: 'é‚ªæ°—æ‰•ã‚ã‚Œã€è‰¯ãé‹æ°—æµã‚Œè¾¼ã‚€ã€‚',
      å°å‰: 'è±†ã¾ãã®åŠŸå¾³ã‚ã‚Šã€‚å°ã•ãªç¦æˆã‹ã‚‹ã€‚',
      å‰: 'ç¯€åˆ†ã®æ¸…ã‚åŠ¹æœã‚ã‚Šã€‚é‹æ°—å®‰å®šã™ã€‚',
      æœ«å‰: 'é¬¼é€€æ²»ã®æ™‚ã€‚ã‚„ãŒã¦ç¦æ¥ãŸã‚‹ã€‚',
      å‡¶: 'é‚ªæ°—å¼·ã—ã€‚ã—ã£ã‹ã‚Šå„æ‰•ã„ã™ã¹ã—ã€‚',
      å¤§å‡¶: 'é¬¼é–€é–‹ãã€‚è‡³æ€¥å„é™¤ã‘å¿…è¦ãªã‚Šã€‚'
    }
  },
  
  æ¡œèŠ±: {
    period: { start: '03-20', end: '04-15' },
    messages: {
      å¤§å‰: 'æ¡œèŠ±çˆ›æ¼«ã€‚äººç”Ÿã®æ˜¥åˆ°æ¥ãªã‚Šã€‚',
      ä¸­å‰: 'èŠ±é–‹ãæ™‚æœŸã€‚ãƒãƒ£ãƒ³ã‚¹å¤šãè¨ªã‚Œã‚‹ã€‚',
      å°å‰: 'å°ã•ãªèŠ±ã‚‚ç¾ã—ã€‚æ—¥ã€…ã«å–œã³ã‚ã‚Šã€‚',
      å‰: 'æ¡œã®ã”ã¨ãã€ä»Šã‚’å¤§åˆ‡ã«ç”Ÿãã‚‹ã¹ã—ã€‚',
      æœ«å‰: 'ã¤ã¼ã¿ã®æ™‚æœŸã€‚ã‚„ãŒã¦èŠ±é–‹ãã€‚',
      å‡¶: 'èŠ±æ•£ã‚‹å¦‚ã—ã€‚ç„¡å¸¸ã‚’çŸ¥ã‚‹æ™‚ã€‚',
      å¤§å‡¶: 'åµã«æ•£ã‚‹èŠ±ã€‚è©¦ç·´ã®æ˜¥ãªã‚Šã€‚'
    }
  },
  
  ä¸ƒå¤•: {
    period: { start: '07-01', end: '07-07' },
    messages: {
      å¤§å‰: 'ç¹”å§«å½¦æ˜Ÿã®ç¥ç¦ã€‚é¡˜ã„äº‹ã™ã¹ã¦å¶ã†ã€‚',
      ä¸­å‰: 'æ˜Ÿã«é¡˜ã„ã‚’ã€‚è‰¯ç¸çµã°ã‚Œã‚‹äºˆæ„Ÿã€‚',
      å°å‰: 'å°ã•ãªé¡˜ã„å¶ã†ã€‚æ„Ÿè¬ã®å¿ƒå¤§åˆ‡ã«ã€‚',
      å‰: 'ä¸ƒå¤•ã®å¤œã€å¸Œæœ›ã®æ˜Ÿè¼ãã€‚',
      æœ«å‰: 'é›²ã«éš ã‚Œã—æ˜Ÿã€‚ã‚„ãŒã¦è¼ãæ™‚æ¥ã‚‹ã€‚',
      å‡¶: 'å¤©ã®å·æ¸¡ã‚Œãšã€‚é¡˜ã„å±Šã‹ã¬æ™‚ã€‚',
      å¤§å‡¶: 'æ˜Ÿã®å°ãå¤±ã†ã€‚è¿·ã„ã®æ™‚æœŸãªã‚Šã€‚'
    }
  },
  
  ãŠç›†: {
    period: { start: '08-13', end: '08-16' },
    messages: {
      å¤§å‰: 'å…ˆç¥–ã®åŠ è­·ç¯¤ã—ã€‚å¤§ã„ãªã‚‹å®ˆã‚Šã‚ã‚Šã€‚',
      ä¸­å‰: 'ã”å…ˆç¥–æ§˜ã®å°ãã‚ã‚Šã€‚æ­£ã—ãé“ç¤ºã•ã‚Œã‚‹ã€‚',
      å°å‰: 'ä¾›é¤Šã®åŠŸå¾³ã‚ã‚Šã€‚å¿ƒå®‰ã‚‰ã‹ãªã‚Šã€‚',
      å‰: 'å…ˆç¥–ã«æ„Ÿè¬ã€‚å¹³ç©ãªæ—¥ã€…ç¶šãã€‚',
      æœ«å‰: 'è¿·ãˆã‚‹é­‚ã«ç¥ˆã‚Šã‚’ã€‚ã‚„ãŒã¦é“é–‹ã‘ã‚‹ã€‚',
      å‡¶: 'å…ˆç¥–ã®æˆ’ã‚ã‚ã‚Šã€‚è¡Œã„ã‚’æ­£ã™ã¹ã—ã€‚',
      å¤§å‡¶: 'å› ç¸æ·±ã—ã€‚ã—ã£ã‹ã‚Šä¾›é¤Šã™ã¹ã—ã€‚'
    }
  },
  
  ç´…è‘‰: {
    period: { start: '10-15', end: '11-30' },
    messages: {
      å¤§å‰: 'éŒ¦ç§‹ã®å¦‚ãã€äººç”Ÿã‚‚å½©ã‚Šè±Šã‹ãªã‚Šã€‚',
      ä¸­å‰: 'å®Ÿã‚Šã®ç§‹ã€‚åŠªåŠ›ã®æˆæœç¾ã‚Œã‚‹ã€‚',
      å°å‰: 'ç´…è‘‰ã®ç¾ã—ã•ã«ã€å°ã•ãªå¹¸ã›è¦‹å‡ºã™ã€‚',
      å‰: 'ç§‹ã®å®Ÿã‚Šã€‚åœ°é“ãªåŠªåŠ›å ±ã‚ã‚Œã‚‹ã€‚',
      æœ«å‰: 'è½ã¡è‘‰ã®å¦‚ãã€‚ä¸€åº¦è½ã¡ã¦ã¾ãŸèŠ½å¹ãã€‚',
      å‡¶: 'æ¯ã‚Œè‘‰èˆã†ã€‚ç‰©äº‹ã®çµ‚ã‚ã‚Šã‚’å—ã‘å…¥ã‚Œã‚‹æ™‚ã€‚',
      å¤§å‡¶: 'æœ¨æ¯ã‚‰ã—å¹ãã€‚å³ã—ã„å†¬ã¸ã®å‚™ãˆå¿…è¦ã€‚'
    }
  },
  
  å¹´æœ«: {
    period: { start: '12-20', end: '12-31' },
    messages: {
      å¤§å‰: 'è‰¯ãç· ã‚ããã‚Šã€‚æ¥å¹´æ›´ãªã‚‹é£›èºã‚ã‚Šã€‚',
      ä¸­å‰: 'ä¸€å¹´ã®æ„Ÿè¬ã‚’èƒ¸ã«ã€æ–°ãŸãªå¹´ã¸ã€‚',
      å°å‰: 'ç„¡äº‹å¹´è¶Šã—ã€‚å°ã•ãªå¹¸ã›ã«æ„Ÿè¬ã€‚',
      å‰: 'å¹³ç©ã«å¹´ã‚’çµ‚ãˆã‚‹ã€‚æ¥å¹´ã«æœŸå¾…ã€‚',
      æœ«å‰: 'ä»Šå¹´ã®è‹¦åŠ´ã€æ¥å¹´ã®ç³§ã¨ãªã‚‹ã€‚',
      å‡¶: 'å¹´æœ«ã®è©¦ç·´ã€‚å¿ƒã—ã¦ä¹—ã‚Šåˆ‡ã‚‹ã¹ã—ã€‚',
      å¤§å‡¶: 'å¤§æ™¦æ—¥ã®å„ã€‚å¹´è¶Šã—ã®ç¥“ã„å¿…é ˆã€‚'
    }
  }
};

// ãŠã¿ãã˜å¼•ãéš›ã®å’Œæ­Œï¼ˆãƒ©ãƒ³ãƒ€ãƒ é¸æŠç”¨ï¼‰
export const OMIKUJI_POEMS = [
  {
    text: 'æœæ—¥ã•ã™ å³°ã®ç™½é›ª ã¨ã‘ã¬ã‚Œã° è°·ã®å°å·ã« æ˜¥é¢¨ãå¹ã',
    meaning: 'å›°é›£ãªçŠ¶æ³ã‚‚å¿…ãšè§£æ±ºã—ã€æ–°ã—ã„å­£ç¯€ãŒè¨ªã‚Œã¾ã™'
  },
  {
    text: 'å±±é«˜ã¿ é›²ã®ã„ã§ãã‚‹ æ˜¥ã®æ—¥ã¯ èŠ±ã®é¦™ã‚Šã‚‚ ã²ã¨ã—ãŠæ·±ã—',
    meaning: 'é«˜ã„ç›®æ¨™ã«å‘ã‹ãˆã°ã€ã‚ˆã‚Šå¤§ããªå–œã³ãŒå¾—ã‚‰ã‚Œã¾ã™'
  },
  {
    text: 'æœˆå½±ã® ã„ãŸã‚‰ã¬é‡Œã¯ ãªã‘ã‚Œã©ã‚‚ ãªãŒã‚€ã‚‹äººã® å¿ƒã«ãã™ã‚€',
    meaning: 'å¹¸é‹ã¯èª°ã«ã§ã‚‚å¹³ç­‰ã«è¨ªã‚Œã¾ã™ãŒã€ãã‚Œã«æ°—ã¥ãå¿ƒãŒå¤§åˆ‡ã§ã™'
  },
  {
    text: 'éœ²ã®èº«ã¯ ã“ã“ã‹ã—ã“ã«ã¦ æ¶ˆãˆã¬ã¨ã‚‚ å¿ƒã¯åŒã˜ èŠ±ã®ä¸‹ã‹ãª',
    meaning: 'å½¢ã‚ã‚‹ã‚‚ã®ã¯ç§»ã‚Šå¤‰ã‚ã£ã¦ã‚‚ã€å¤§åˆ‡ãªæ€ã„ã¯å¤‰ã‚ã‚Šã¾ã›ã‚“'
  },
  {
    text: 'å¹ãé¢¨ã® è‰²ã¯ãªã‘ã‚Œã© ç§‹æ¥ã‚Œã° æœ¨ã€…ã®æ¢¢ã« ã‚ã‚‰ã‚ã‚Œã«ã‘ã‚Š',
    meaning: 'è¦‹ãˆãªã„ã‚‚ã®ã‚‚ã€æ™‚ãŒæ¥ã‚Œã°å¿…ãšå½¢ã¨ãªã£ã¦ç¾ã‚Œã¾ã™'
  }
];

// ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ç”¨ã®ç‰¹æ®ŠãŠã¿ãã˜
export const SPECIAL_OMIKUJI = {
  ç¥è¨—: {
    id: 'shintaku',
    name: 'ç¥è¨—ã¿ãã˜',
    rarity: 'mythical',
    unlockCondition: '100å›ãŠã¿ãã˜ã‚’å¼•ã',
    message: 'ç¥ã®å£°å±Šãã€‚æ±ã®é“ã¯é–‹ã‹ã‚ŒãŸã‚Šã€‚',
    effect: 'å…¨é‹å‹¢+50%ãƒœãƒ¼ãƒŠã‚¹'
  },
  
  é¾ç¥: {
    id: 'ryujin',
    name: 'é¾ç¥ã¿ãã˜',
    rarity: 'legendary',
    unlockCondition: 'å¤§å‰ã‚’10å›å¼•ã',
    message: 'é¾ç¥ã®åŠ è­·ã‚’å¾—ãŸã‚Šã€‚å¤©é«˜ãæ˜‡ã‚‹æ™‚æ¥ãŸã‚Œã‚Šã€‚',
    effect: 'é‡‘é‹å¤§å¹…ã‚¢ãƒƒãƒ—'
  },
  
  æœˆèª­: {
    id: 'tsukuyomi',
    name: 'æœˆèª­ã¿ãã˜',
    rarity: 'legendary',
    unlockCondition: 'æº€æœˆã®å¤œã«å¼•ã',
    message: 'æœˆã®å°ãã‚ã‚Šã€‚éš ã•ã‚Œã—çœŸå®Ÿæ˜ã‚‰ã‹ã«ãªã‚‹ã€‚',
    effect: 'æ‹æ„›é‹ç‰¹åˆ¥ãƒœãƒ¼ãƒŠã‚¹'
  },
  
  æ¡œå¹é›ª: {
    id: 'sakurafubuki',
    name: 'æ¡œå¹é›ªã¿ãã˜',
    rarity: 'epic',
    unlockCondition: 'æ¡œã®å­£ç¯€ã«å¼•ã',
    message: 'æ¡œèŠ±ã®ç¥ç¦ã€‚æ–°ã—ã„å§‹ã¾ã‚Šã«å¹¸ã‚ã‚Œã€‚',
    effect: 'å…¨ä½“é‹ä¸Šæ˜‡'
  },
  
  é›·ç¥: {
    id: 'raijin',
    name: 'é›·ç¥ã¿ãã˜',
    rarity: 'epic',
    unlockCondition: 'é›·é›¨ã®æ—¥ã«å¼•ã',
    message: 'é›·ç¥ã®åŠ›å®¿ã‚‹ã€‚éšœå®³ã‚’æ‰“ã¡ç ´ã‚‹åŠ›ã‚’å¾—ã‚‹ã€‚',
    effect: 'ä»•äº‹é‹ãƒ–ãƒ¼ã‚¹ãƒˆ'
  }
};

// ãŠã¿ãã˜ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®å®Ÿç¸¾
export const OMIKUJI_ACHIEVEMENTS = {
  åˆå¿ƒè€…: {
    id: 'beginner',
    name: 'ãŠã¿ãã˜åˆå¿ƒè€…',
    description: 'åˆã‚ã¦ãŠã¿ãã˜ã‚’å¼•ã',
    requirement: 1,
    reward: 'ç§°å·ï¼šé‹è©¦ã—åˆå¿ƒè€…'
  },
  
  å¸¸é€£: {
    id: 'regular',
    name: 'ãŠã¿ãã˜å¸¸é€£',
    description: '10å›ãŠã¿ãã˜ã‚’å¼•ã',
    requirement: 10,
    reward: 'ç§°å·ï¼šé‹å‹¢ã®æ¢æ±‚è€…'
  },
  
  é”äºº: {
    id: 'master',
    name: 'ãŠã¿ãã˜é”äºº',
    description: '50å›ãŠã¿ãã˜ã‚’å¼•ã',
    requirement: 50,
    reward: 'ç§°å·ï¼šé‹å‘½ã®é”äºº'
  },
  
  ä¼èª¬: {
    id: 'legend',
    name: 'ãŠã¿ãã˜ä¼èª¬',
    description: '100å›ãŠã¿ãã˜ã‚’å¼•ã',
    requirement: 100,
    reward: 'ç§°å·ï¼šé‹å‹¢ã®æ”¯é…è€…'
  },
  
  å¹¸é‹å…: {
    id: 'lucky',
    name: 'å¹¸é‹å…',
    description: 'å¤§å‰ã‚’å¼•ã',
    requirement: 'special',
    reward: 'ç§°å·ï¼šé¸ã°ã‚Œã—è€…'
  },
  
  ä¸å±ˆ: {
    id: 'resilient',
    name: 'ä¸å±ˆã®ç²¾ç¥',
    description: 'å¤§å‡¶ã‚’å¼•ã„ã¦ã‚‚è«¦ã‚ãªã„',
    requirement: 'special',
    reward: 'ç§°å·ï¼šä¸å±ˆã®é­‚'
  },
  
  å…¨é‹åˆ¶è¦‡: {
    id: 'complete',
    name: 'å…¨é‹åˆ¶è¦‡',
    description: 'ã™ã¹ã¦ã®é‹å‹¢ã‚’å¼•ã',
    requirement: 'special',
    reward: 'ç§°å·ï¼šé‹å‘½ã®åé›†å®¶'
  },
  
  å­£ç¯€å·¡ã‚Š: {
    id: 'seasonal',
    name: 'å­£ç¯€å·¡ã‚Š',
    description: 'ã™ã¹ã¦ã®å­£ç¯€ã§ãŠã¿ãã˜ã‚’å¼•ã',
    requirement: 'special',
    reward: 'ç§°å·ï¼šå››å­£ã®å·¡ç¤¼è€…'
  }
};

// NFTãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆé–¢æ•°
export const generateOmikujiNFTMetadata = (omikuji, shrineData) => {
  const timestamp = new Date().toISOString();
  const seasonalEvent = getCurrentSeason();
  
  return {
    name: `${shrineData.name} - ${omikuji.fortune}ã¿ãã˜`,
    description: `${shrineData.name}ã§å¼•ã„ãŸ${omikuji.fortune}ã®ãŠã¿ãã˜ã€‚${omikuji.message}`,
    image: 'ipfs://omikuji-placeholder', // å®Ÿéš›ã®IPFSãƒãƒƒã‚·ãƒ¥ã«ç½®ãæ›ãˆ
    attributes: [
      {
        trait_type: 'Fortune',
        value: omikuji.fortune
      },
      {
        trait_type: 'Shrine',
        value: shrineData.name
      },
      {
        trait_type: 'Category',
        value: omikuji.category
      },
      {
        trait_type: 'Rarity',
        value: OMIKUJI_RARITIES[omikuji.fortune].rate
      },
      {
        trait_type: 'Season',
        value: seasonalEvent || 'Regular'
      },
      {
        trait_type: 'Date',
        value: timestamp
      },
      {
        trait_type: 'Poem',
        value: omikuji.poem?.text || ''
      }
    ],
    properties: {
      fortune_level: omikuji.fortune,
      shrine_id: shrineData.id,
      seasonal_bonus: seasonalEvent ? true : false,
      collection_number: omikuji.collectionNumber || 0
    }
  };
};

// ç¾åœ¨ã®å­£ç¯€ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—
export const getCurrentSeason = () => {
  const now = new Date();
  const monthDay = `${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;
  
  for (const [season, data] of Object.entries(SEASONAL_MESSAGES)) {
    if (monthDay >= data.period.start && monthDay <= data.period.end) {
      return season;
    }
  }
  
  return null;
};

// ãŠã¿ãã˜ã‚’å¼•ãé–¢æ•°
export const drawOmikuji = (shrineType = null) => {
  // ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã«åŸºã¥ã„ã¦é‹å‹¢ã‚’æ±ºå®š
  const random = Math.random();
  let accumulator = 0;
  let fortune = 'å‰'; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
  
  for (const [key, value] of Object.entries(OMIKUJI_RARITIES)) {
    accumulator += value.rate;
    if (random <= accumulator) {
      fortune = key;
      break;
    }
  }
  
  // ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’æ±ºå®šï¼ˆç¥ç¤¾ã‚¿ã‚¤ãƒ—ã«åŸºã¥ãï¼‰
  const categories = Object.keys(FORTUNE_CATEGORIES);
  let category = shrineType || categories[Math.floor(Math.random() * categories.length)];
  
  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é¸æŠ
  const baseMessages = OMIKUJI_MESSAGES[fortune].base;
  const categoryMessages = OMIKUJI_MESSAGES[fortune][category] || [];
  const allMessages = [...baseMessages, ...categoryMessages];
  const message = allMessages[Math.floor(Math.random() * allMessages.length)];
  
  // å­£ç¯€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒã‚§ãƒƒã‚¯
  const currentSeason = getCurrentSeason();
  let seasonalMessage = null;
  if (currentSeason && SEASONAL_MESSAGES[currentSeason].messages[fortune]) {
    seasonalMessage = SEASONAL_MESSAGES[currentSeason].messages[fortune];
  }
  
  // å’Œæ­Œã‚’é¸æŠ
  const poem = OMIKUJI_POEMS[Math.floor(Math.random() * OMIKUJI_POEMS.length)];
  
  return {
    fortune,
    category,
    message,
    seasonalMessage,
    poem,
    rarity: OMIKUJI_RARITIES[fortune],
    timestamp: new Date().toISOString()
  };
};